<html>
   
    <!-- Basic document head -->
    <head>
        <title>Lab 0</title>

        <!-- Inline styles -->
        <style>

            html {
                /* Set the background color for the page */
                background-color: #edebeb;
            }

            #form-box {
                width: 30%;
                height: 50%;
                margin: 10px auto;
                padding: 10px;
                border-radius: 5px;
                border: 2px solid green;

            }
        </style>

        <script>
/* The only line of code not in a function as specified by the instructions */
window.addEventListener('load', init);

/**
 * Called on page load. Finds the input/textarea/button DOM 
 * objects and registers them to event handlers that handle 
 * the submit button click
 */
function init() {
    registerDomEventHandlers(getRelevantDomObjects());
}


/**
 * Returns a dictionary of DOM objects tagged to their name 
 * identifiers
 */
function getRelevantDomObjects() {
    return {
        'submit' : document.getElementById('submit'),
        'username' : document.getElementById('username'),
        'password' : document.getElementById('password'),
        'studentId' : document.getElementById('studentid'),
        'message' : document.getElementById('message')
    }
}


/**
 * Given a dictionary of DOM objects representing the input fields
 * submit button of the page, this function registers the 'click' event
 * of the submit button DOM object to an anonymous function handling form 
 * validation
 */
function registerDomEventHandlers(domObjects) {
    domObjects['submit'].addEventListener('click', () => {
        

    });

    domObjects['message'].addEventListener('input', () => {


    });
}

function validateForms(username, password, studentId) {
    
    /* Dictionary of potential error messages for input fields */
    const errors = {};
    
    validateUsername(errors);
    validatePassword(errors);
    validateStudentId(errors);

    return errors;
}


function validateUsername(errors) {
    const onlyLettersRegex = /^[A-Za-z]+$/;

    /* Match username against the only letters requirement */
    if (!username.match(onlyLettersRegex)) {

        /* Add appropriate error message if regex fails */
        errors['username'] = "Username field must only contain letters";
    }
}


function validatePassword(errors) {
    const oneUpperOneLowerOneNumberRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{3,}$/;
    
    /* Match password against the one upper, one lower, and one number requirement */
    if (!password.match(oneUpperOneLowerOneNumberRegex)) {
        
        /* Add appropriate error message if regex fails */
        errors['password'] = "Password must contain at least 1 uppercase letter, " +
            "1 lowercase letter, and 1 number";
    }
}

function validateStudentId(errors) {
    const onlyNumbersRegex = /^[0-9]+$/;

    /* Make sure stedent ID is 9 characters in length */
    if (studentId.length !== 9) {

        /* Add appropriate error message if regex fails */
        errors['studentid'] = "Student ID must be 9 digits."
    }

    /* Match student id against the only numbers requirement */
    if (!studentId.match(onlyNumbersRegex)) {

        /* Add appropriate error message if regex fails - Additionally check whether to append this
           error message to an existing error message */
        errors['studentid'] = (errors['studentid'] === undefined ? "" : errors['studentid'] + " ") +
            "Student ID must be only numbers";
    }
}


        </script>


    </head>
    
    <body>
        
        <div id="form-box">
            <input type="text" id="username">
            <input type="password" id="password">
            <input type="text" id="studentid">
            <textarea id="message"></textarea>
            <input type="button" value="Submit" id="submit"></button>
        </div>


    </body>
</html>


